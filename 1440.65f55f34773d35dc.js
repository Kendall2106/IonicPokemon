"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1440],{1440:(x,g,l)=>{l.r(g),l.d(g,{TeamPageModule:()=>M});var m=l(6814),f=l(95),o=l(5548),p=l(4670),u=l(5861),T=l(553),c=l(5426),e=l(6689),Z=l(4336);function C(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",3),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.ver(s))}),e.TgZ(1,"ion-avatar",4),e._UZ(2,"img",5),e.qZA(),e.TgZ(3,"ion-label"),e._uU(4),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(2),e.s9C("src",t.image,e.LSH),e.xp6(2),e.Oqu(t.name)}}let h=(()=>{class n{constructor(t,i,a,s){this.pokemonService=i,this.nav=a,this.viewCtrl=s,this.characters=[],this.player=t.get("player"),this.action=t.get("action")}ngOnInit(){for(let t=1;t<50;t++)this.pokemonService.loadPokemon(t).subscribe(i=>{this.characters[t-1]={id:i.id,name:i.name,image:i.sprites.other.dream_world.front_default,selected:!1}})}ver(t){var i=!1;for(let a=0;a<c.c.team.length;a++)c.c.team[a].name==t.name&&(i=!0);if(0==i)if("add"==this.action)c.c.team.push(t);else if("update"==this.action)for(let a=0;a<c.c.team.length;a++)c.c.team[a].name==this.player.name&&(c.c.team[a]=t);this.viewCtrl.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.X1),e.Y36(Z.f),e.Y36(o.SH),e.Y36(o.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["modal"]],decls:11,vars:1,consts:[["type","indeterminate"],["sizeMd","4","offsetMd","4"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["slot","start"],[3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"modal"),e.qZA(),e._UZ(4,"ion-progress-bar",0),e.qZA()(),e.TgZ(5,"ion-content")(6,"ion-grid")(7,"ion-row")(8,"ion-col",1)(9,"ion-list"),e.YNc(10,C,5,2,"ion-item",2),e.qZA()()()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",i.characters))},dependencies:[m.sg,o.BJ,o.wI,o.W2,o.jY,o.Gu,o.Ie,o.Q$,o.q_,o.X7,o.Nd,o.wd,o.sr],encapsulation:2}),n})();function _(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col",5)(1,"ion-card")(2,"ion-card-header"),e._UZ(3,"ion-img",6),e.qZA(),e.TgZ(4,"ion-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"ion-card-content")(7,"ion-button",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.abrirModal(s))}),e._uU(8," Actualizar "),e._UZ(9,"ion-icon",8),e.qZA(),e.TgZ(10,"ion-button",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.presentActionSheet(s))}),e._uU(11," Eliminar "),e._UZ(12,"ion-icon",9),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(3),e.s9C("src",t.image),e.xp6(2),e.AsE(" #",t.id," ",t.name," ")}}const P=[{path:"",component:(()=>{class n{constructor(t,i,a,s){this.alertController=t,this.modalController=i,this.nav=a,this.actionSheetCtrl=s,this.characters=[],this.urlApi=T.N.urlAPI}ngOnInit(){this.loadTeam(),this.presentingElement=document.querySelector(".ion-page")}loadTeam(){for(let t=1;t<=c.c.team.length;t++)this.characters=c.c.team,console.log("ver "+this.characters.length)}deletePokemon(t){const i=c.c.team.findIndex(a=>a.id===t.id);-1!==i&&c.c.team.splice(i,1),0==c.c.team.length?this.nav.navigateForward("/home"):this.loadTeam()}abrirModal(t){var i=this;return(0,u.Z)(function*(){console.log("abrirModal"),yield(yield i.modalController.create({component:h,componentProps:{player:t,action:"update"}})).present()})()}presentActionSheet(t){var i=this;return(0,u.Z)(function*(){yield(yield i.actionSheetCtrl.create({header:"Est\xe1s seguro?",buttons:[{text:"Eliminar",role:"destructive",handler:()=>{i.deletePokemon(t)}},{text:"Cerrar",role:"cancel"}]})).present()})()}addPokemon(){var t=this;return(0,u.Z)(function*(){c.c.team.length<6?yield(yield t.modalController.create({component:h,componentProps:{action:"add"}})).present():yield(yield t.alertController.create({message:"El equipo debe ser menor de 6 Pokemones",buttons:["OK"]})).present()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.Br),e.Y36(o.IN),e.Y36(o.SH),e.Y36(o.BX))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-team"]],decls:13,vars:1,consts:[["slot","start"],["defaultHref","home"],["sizeMd","4",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end",3,"click"],["name","add"],["sizeMd","4"],[3,"src"],[3,"click"],["slot","end","name","duplicate-outline"],["slot","end","name","trash-outline"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Equipo Pok\xe9mon"),e.qZA(),e.TgZ(4,"ion-buttons",0),e._UZ(5,"ion-back-button",1),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-grid")(8,"ion-row"),e.YNc(9,_,13,3,"ion-col",2),e.qZA()(),e.TgZ(10,"ion-fab",3),e.NdJ("click",function(){return i.addPokemon()}),e.TgZ(11,"ion-fab-button"),e._UZ(12,"ion-icon",4),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("ngForOf",i.characters))},dependencies:[m.sg,o.oU,o.YG,o.Sm,o.PM,o.FN,o.Zi,o.Dq,o.wI,o.W2,o.IJ,o.W4,o.jY,o.Gu,o.gu,o.Xz,o.Nd,o.wd,o.sr,o.cs],styles:["ion-card-header[_ngcontent-%COMP%]{align-items:center}ion-card-title[_ngcontent-%COMP%]{padding-left:4%;font-size:32px}ion-img[_ngcontent-%COMP%]{width:50%;height:150px}ion-content[_ngcontent-%COMP%]{--ion-background-color: #DC0A2F}ion-card[_ngcontent-%COMP%]{--ion-background-color: #ffffff}"]}),n})()}];let v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.Bz.forChild(P),p.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,f.u5,o.Pc,v]}),n})()}}]);